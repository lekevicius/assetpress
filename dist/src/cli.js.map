{"version":3,"file":"cli.js","sourceRoot":"","sources":["../../src/cli.ts"],"names":[],"mappings":"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","sourcesContent":["#!/usr/bin/env node\n;\nvar argv, doc, info;\n\nimport * as fs from 'fs-extra'\nimport * as path from 'path'\nimport * as _ from 'lodash'\nimport * as colors from 'colors'\n\nargv = require('minimist')(process.argv.slice(2), {\n  boolean: ['i', 'a', 'c', 'v', 'x']\n});\n\ninfo = require('../package.json');\n\n// (colors.bold('AssetPress ' + info.version)) +\ndoc = `\nHigh quality asset resizer for iOS and Android and powerful workflow tool.\nor more information see the README.\n\n${ colors.bold('Usage and Common Options') }\nUsage: assetpress [options] input\n  -i, --ios         iOS mode. Default, flag is not necessary.\n  -a, --android     Android mode.\n      --input       Input directory. Flag not necessary,\n                    any free argument is considered input.\n  -o, --output      Output directory. Default depends on OS mode.\n  -s, --screens     Screens directory\n      --no-resize   Don't perform any image resizing.\n                    Use when you only want split screens and images.\n  -c, --clean       Clean output directory before outputting.\n  -v, --verbose     Verbose output.\n  -m, --git-message Workflow git commit message\n      --git-no-push Don't push created git commit\n      --workflow    Workflow JSON object instead of file\n\nInput can be either a source directory or a .assetpress.json workflow file.\nFor more information about Workflows and configuration files see README.\nWorkflow accepts --clean and --verbose flags.\n\n${ colors.bold('iOS Features and Options') }\n- Resizing from higher resolutions to lower (@4x recommended)\n- Xcassets folder generator, including AppIcon, LaunchImage and nested groups.\n\nFor detailed documentation about these features see the README.\n  -x, --ios-xcassets  Generate .xcassets folder instead of a simple directory.\n      --ios-min       Smallest generated size for universal assets. Default: 1x.\n      --ios-max       Largest generated size for universal assets. Default: 3x.\n      --ios-min-phone Smallest generated size for iPhone assets. Default: 2x.\n      --ios-max-phone Largest generated size for iPhone assets. Default: 3x.\n      --ios-min-pad   Smallest generated size for iPad assets. Default: 1x.\n      --ios-max-pad   Largest generated size for iPad assets. Default: 2x.\n\n${ colors.bold('Android Features and Options') }\n- Resizing from higher resolutions to lower (xxxhdpi initial size required)\n- 9-patches resizing with flexible initial patch thickness.\n- NoDPI support.\n\nAssetPress works either in iOS or Android mode, iOS being the default.\nActivate Android mode with -a or --android.\nKeep in mind that xxxhdpi (4x) initial resolution is required.\nAssetPress will skip files that are not sized in multiples of 4.\nFor detailed documentation about these features see the README.\n      --android-ldpi      Enable LDPI size generation.\n      --android-xxxhdpi   Enable XXHDPI size generation.\n                          Despite being the source of all other sizes, by\n                          default XXXHDPI size is not generated.\n`\n\nif (argv.help || argv.h) {\n  return process.stdout.write(doc);\n}\n\nif (argv.version) {\n  return process.stdout.write(\"AssetPress version \" + info.version + \"\\n\");\n}\n\nrequire('./assetpress')({\n  verbose: argv.verbose || argv.v,\n  clean: argv.clean || argv.c,\n  inputDirectory: _.isString(argv.input) ? argv.input : argv._.length ? argv._[0] : void 0,\n  outputDirectory: _.isString(argv.output || argv.o) ? argv.output || argv.o : void 0,\n  os: argv.ios || argv.i ? 'ios' : argv.android || argv.a ? 'android' : void 0,\n  screensDirectory: _.isString(argv.screens || argv.s) ? argv.screens || argv.s : void 0,\n  skipResize: argv['skip-resize'],\n  iosMinimum: argv['ios-min'],\n  iosMaximum: argv['ios-max'],\n  iosMinimumPhone: argv['ios-min-phone'],\n  iosMaximumPhone: argv['ios-max-phone'],\n  iosMinimumPad: argv['ios-min-pad'],\n  iosMaximumPad: argv['ios-max-pad'],\n  iosXcassets: argv['ios-xcassets'] || argv.x,\n  androidLdpi: argv['android-ldpi'],\n  androidXxxhdpi: argv['android-xxxhdpi'],\n  workflowObject: argv.workflow,\n  gitMessage: argv['git-message'] || argv.m,\n  gitRoot: argv['git-root'],\n  gitBranch: argv['git-branch'],\n  gitPrefix: argv['git-prefix'],\n  gitRemote: argv['git-remote'],\n  gitNoPush: argv['git-no-push']\n});\n"]}